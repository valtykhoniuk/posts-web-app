{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nexport const postModule = {\n  state: () => ({\n    posts: [],\n    isPostLoading: false,\n    selectedSort: \"\",\n    searchQuery: \"\",\n    pageNumber: 1,\n    limit: 10,\n    totalPages: 0,\n    sortedOptions: [{\n      value: \"title\",\n      name: \"By name\"\n    }, {\n      value: \"body\",\n      name: \"By context\"\n    }]\n  }),\n  getters: {\n    sortedPosts(state) {\n      return [...state.posts].sort((post1, post2) => {\n        return post1[state.selectedSort]?.localeCompare(post2[state.selectedSort]);\n      });\n    },\n    sortedAndSearchedPosts(state, getters) {\n      return getters.sortedPosts.filter(post => post.title.toLowerCase().includes(state.searchQuery.toLowerCase()));\n    }\n  },\n  mutations: {\n    setPosts(state, posts) {\n      state.posts = posts;\n    },\n    setLoading(state, bool) {\n      state.isPostLoading = bool;\n    },\n    setPage(state, page) {\n      state.pageNumber = page;\n    },\n    setselectedSort(state, selectedSort) {\n      state.selectedSort = selectedSort;\n    },\n    setSearchQuery(state, searchQuery) {\n      state.searchQuery = searchQuery;\n    },\n    setTotalPages(state, totalPages) {\n      state.totalPages = totalPages;\n    }\n  },\n  actions: {\n    async fetchPosts({\n      state,\n      commit\n    }) {\n      try {\n        commit(\"setLoading\", true);\n        const response = await axios.get(\"https://jsonplaceholder.typicode.com/posts\", {\n          params: {\n            _page: state.pageNumber,\n            _limit: state.limit\n          }\n        });\n        commit(\"setTotalPages\", Math.ceil(response.headers[\"x-total-count\"] / state.limit));\n        commit(\"setPosts\", response.data);\n      } catch (error) {\n        alert(\"Error\");\n        console.log(error);\n      } finally {\n        commit(\"setLoading\", false);\n      }\n    },\n    async loadMorePosts({\n      state,\n      commit\n    }) {\n      try {\n        commit(\"setPage\", state.pageNumber++);\n        const response = await axios.get(\"https://jsonplaceholder.typicode.com/posts\", {\n          params: {\n            _page: state.pageNumber,\n            _limit: state.limit\n          }\n        });\n        commit(\"setTotalPages\", Math.ceil(response.headers[\"x-total-count\"] / state.limit));\n        commit(\"setPosts\", [...state.posts, ...response.data]);\n      } catch (error) {\n        alert(\"Error\");\n        console.log(error);\n      } finally {\n        commit(\"setLoading\", false);\n      }\n    }\n  },\n  namespaced: true\n};","map":{"version":3,"names":["postModule","state","posts","isPostLoading","selectedSort","searchQuery","pageNumber","limit","totalPages","sortedOptions","value","name","getters","sortedPosts","sort","post1","post2","localeCompare","sortedAndSearchedPosts","filter","post","title","toLowerCase","includes","mutations","setPosts","setLoading","bool","setPage","page","setselectedSort","setSearchQuery","setTotalPages","actions","fetchPosts","commit","response","axios","get","params","_page","_limit","Math","ceil","headers","data","error","alert","console","log","loadMorePosts","namespaced"],"sources":["/Users/valeriiatykhoniuk/Documents/practice/posts-web-app/src/store/postModule.js"],"sourcesContent":["export const postModule = {\n  state: () => ({\n    posts: [],\n    isPostLoading: false,\n    selectedSort: \"\",\n    searchQuery: \"\",\n    pageNumber: 1,\n    limit: 10,\n    totalPages: 0,\n    sortedOptions: [\n      { value: \"title\", name: \"By name\" },\n      { value: \"body\", name: \"By context\" },\n    ],\n  }),\n\n  getters: {\n    sortedPosts(state) {\n      return [...state.posts].sort((post1, post2) => {\n        return post1[state.selectedSort]?.localeCompare(\n          post2[state.selectedSort]\n        );\n      });\n    },\n\n    sortedAndSearchedPosts(state, getters) {\n      return getters.sortedPosts.filter((post) =>\n        post.title.toLowerCase().includes(state.searchQuery.toLowerCase())\n      );\n    },\n  },\n\n  mutations: {\n    setPosts(state, posts) {\n      state.posts = posts;\n    },\n\n    setLoading(state, bool) {\n      state.isPostLoading = bool;\n    },\n\n    setPage(state, page) {\n      state.pageNumber = page;\n    },\n\n    setselectedSort(state, selectedSort) {\n      state.selectedSort = selectedSort;\n    },\n\n    setSearchQuery(state, searchQuery) {\n      state.searchQuery = searchQuery;\n    },\n\n    setTotalPages(state, totalPages) {\n      state.totalPages = totalPages;\n    },\n  },\n  actions: {\n    async fetchPosts({ state, commit }) {\n      try {\n        commit(\"setLoading\", true);\n        const response = await axios.get(\n          \"https://jsonplaceholder.typicode.com/posts\",\n          {\n            params: {\n              _page: state.pageNumber,\n              _limit: state.limit,\n            },\n          }\n        );\n        commit(\n          \"setTotalPages\",\n          Math.ceil(response.headers[\"x-total-count\"] / state.limit)\n        );\n        commit(\"setPosts\", response.data);\n      } catch (error) {\n        alert(\"Error\");\n        console.log(error);\n      } finally {\n        commit(\"setLoading\", false);\n      }\n    },\n\n    async loadMorePosts({ state, commit }) {\n      try {\n        commit(\"setPage\", state.pageNumber++);\n\n        const response = await axios.get(\n          \"https://jsonplaceholder.typicode.com/posts\",\n          {\n            params: {\n              _page: state.pageNumber,\n              _limit: state.limit,\n            },\n          }\n        );\n        commit(\n          \"setTotalPages\",\n          Math.ceil(response.headers[\"x-total-count\"] / state.limit)\n        );\n        commit(\"setPosts\", [...state.posts, ...response.data]);\n      } catch (error) {\n        alert(\"Error\");\n        console.log(error);\n      } finally {\n        commit(\"setLoading\", false);\n      }\n    },\n  },\n\n  namespaced: true,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}