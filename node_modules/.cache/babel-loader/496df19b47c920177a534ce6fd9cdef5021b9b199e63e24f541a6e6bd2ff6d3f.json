{"ast":null,"code":"import axios from \"axios\";\nimport { ref, onMounted } from \"vue\";\nexport function usePosts(limit) {\n  const posts = ref([]);\n  const totalPages = ref(0);\n  const isPostLoading = ref(true);\n  const fetching = async () => {\n    try {\n      const response = await axios.get(\"https://jsonplaceholder.typicode.com/posts\", {\n        params: {\n          _page: 1,\n          _limit: limit\n        }\n      });\n      totalPages.value = Math.ceil(response.headers[\"x-total-count\"] / limit);\n      posts.value = response.data;\n    } catch (error) {\n      alert(\"Error\");\n    } finally {\n      isPostLoading.value = false;\n    }\n  };\n  onMounted(fetching);\n  return {\n    posts,\n    isPostLoading,\n    totalPages\n  };\n}","map":{"version":3,"names":["axios","ref","onMounted","usePosts","limit","posts","totalPages","isPostLoading","fetching","response","get","params","_page","_limit","value","Math","ceil","headers","data","error","alert"],"sources":["/Users/valeriiatykhoniuk/Documents/practice/posts-web-app/src/hooks/usePosts.js"],"sourcesContent":["import axios from \"axios\";\nimport { ref, onMounted } from \"vue\";\n\nexport function usePosts(limit) {\n  const posts = ref([]);\n  const totalPages = ref(0);\n  const isPostLoading = ref(true);\n  const fetching = async () => {\n    try {\n      const response = await axios.get(\n        \"https://jsonplaceholder.typicode.com/posts\",\n        {\n          params: {\n            _page: 1,\n            _limit: limit,\n          },\n        }\n      );\n      totalPages.value = Math.ceil(response.headers[\"x-total-count\"] / limit);\n      posts.value = response.data;\n    } catch (error) {\n      alert(\"Error\");\n    } finally {\n      isPostLoading.value = false;\n    }\n  };\n\n  onMounted(fetching);\n\n  return {\n    posts,\n    isPostLoading,\n    totalPages,\n  };\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,EAAEC,SAAS,QAAQ,KAAK;AAEpC,OAAO,SAASC,QAAQA,CAACC,KAAK,EAAE;EAC9B,MAAMC,KAAK,GAAGJ,GAAG,CAAC,EAAE,CAAC;EACrB,MAAMK,UAAU,GAAGL,GAAG,CAAC,CAAC,CAAC;EACzB,MAAMM,aAAa,GAAGN,GAAG,CAAC,IAAI,CAAC;EAC/B,MAAMO,QAAQ,GAAG,MAAAA,CAAA,KAAY;IAC3B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAC9B,4CAA4C,EAC5C;QACEC,MAAM,EAAE;UACNC,KAAK,EAAE,CAAC;UACRC,MAAM,EAAET;QACV;MACF,CACF,CAAC;MACDE,UAAU,CAACQ,KAAK,GAAGC,IAAI,CAACC,IAAI,CAACP,QAAQ,CAACQ,OAAO,CAAC,eAAe,CAAC,GAAGb,KAAK,CAAC;MACvEC,KAAK,CAACS,KAAK,GAAGL,QAAQ,CAACS,IAAI;IAC7B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,KAAK,CAAC,OAAO,CAAC;IAChB,CAAC,SAAS;MACRb,aAAa,CAACO,KAAK,GAAG,KAAK;IAC7B;EACF,CAAC;EAEDZ,SAAS,CAACM,QAAQ,CAAC;EAEnB,OAAO;IACLH,KAAK;IACLE,aAAa;IACbD;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}